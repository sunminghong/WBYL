<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <title> android jsinterface demo! </title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="Generator" content="EditPlus">
  <meta name="Author" content="">
  <meta name="Keywords" content="">
  <meta name="Description" content="">
 </head>

 <body>
  <p>android.exitapp() 退出应用软件</p>
<p>android.capture('capturecallback',480,320) 打开相机</p>
<p>android.getimage('capturecallback',480,320) 打开相册</p>
<p>android.notify("abc.ico","nofify test!") 手机提醒</p>

<script type="text/javascript">
function alertcallback(msg) {
	document.getElementById('div_msg_output').innerHTML+=msg+'<br/>';
}

function exitcallback() {
	if(confirm('确认退出吗')) {
		exitapp();
	}
}

function exitapp() {
	if(typeof android=="undefined") {
		alertcallback('android is undefined!');
		return;
	}
	if(typeof android.exitapp=="underfined") {
		alertcallback('android.exitapp is undefined!');
		return;
	}
	android.exitapp();
}

function capture() {
	if(typeof android=="undefined") {
		alertcallback('android is undefined!');
		return;
	}
	if(typeof android.capture=="underfined") {
		alertcallback('android.capture is undefined!');
		return;
	}
	android.capture('capturecallback',480,320,90);
}

function capturecallback(imgbytesbase64) {
		alertcallback('capturecallback is undefined!');
		alertcallback(imgbytesbase64);
		document.getElementById('img_show').src="data:image/jpeg;base64,"+imgbytesbase64;
}

function get_image() {
	if(typeof android=="undefined") {
		alertcallback('android is undefined!');
		return;
	}
	if(typeof android.getimage=="underfined") {
		alertcallback('android.getimage is undefined!');
		return;
	}
	android.getimage('capturecallback',480,320,90);
}

function notify() {
	if(typeof android=="undefined") {
		alertcallback('android is undefined!');
		return;
	}
	if(typeof android.notify=="underfined") {
		alertcallback('android.notify is undefined!');
		return;
	}
	android.notify("abc.ico","nofify test!");
	alertcallback("nofiy is success!");
}

function browserLoadCallback(status) {
	alertcallback("browserLoadCallback:"+status);
}

</script>


<a href="#" onclick="exitapp()">退出应用</a><br/>
<a href="#" onclick="capture()">打开相机</a><br/>
<a href="#" onclick="get_image()">打开相册</a><br/>
<a href="" onclick="notify()">手机提示</a>

<img id="img_show"></img>

<div id="div_msg_output"></div>
 </body>
</html>
