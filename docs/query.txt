
select (select count(*) from iq_iq) as iq,(select count(*) from iq_log) as log,(select count(*) from ppt_login) as co

SELECT retuid,count(*) FROM `iq_iq` group by retuid order by count(*) desc

SELECT uid FROM `iq_iq` order by iq desc  limit 0,10

SELECT * FROM `iq_log` where uid in (SELECT uid FROM `iq_iq` order by iq desc  limit 0,10) order by uid desc


SELECT * FROM `iq_log` where uid in (select uid from (SELECT uid FROM `iq_iq` order by iq desc limit 0,10) as a) order by uid desc


最大的IQ  SELECT max(iq) FROM `iq_iq` where iq>-1


81	99	435   12:14:14
87	108	441	12:14:36
89	110	441	12:14:54
123	155	466	12:22:59


log usetime=0  record count =1523

select (select count(*) from iq_iq) as iqs,
(select count(*) from iq_log ) as logs,
(select count(*) from ppt_login) as logins,
(select count(*) from ppt_user) as users,
(select count(*) from ppt_userlib) as libs,
(select count(*) from ppt_user_sns) as snses,
(select count(*) from ppt_userlib_sns) as lib_snses,
(select count(*) from ppt_zhengshu) as zhengshu,
(SELECT SUM( posts )  FROM  `ppt_user` WHERE posts >0) as posts

SELECT user.name, user.followers,iq.iq 
FROM ppt_user user left join iq_iq iq on user.uid=iq.uid
ORDER BY followers DESC 
LIMIT 0 , 30

select l.screen_name from iq_iq iq  inner join ppt_user l on iq.uid=l.uid  inner join ppt_user_sns sns on sns.uid2=l.uid and type=0 where sns.uid1=17 and iq.iq<110 order by rand() limit 0,30

select l.screen_name FROM ppt.ppt_userlib l  inner join ppt.ppt_userlib_sns sns on sns.uid2=l.id and type=0 where sns.uid1=17 order by rand() limit 0,6


SELECT l.name, l.followers, a . * 
FROM (

SELECT uid2, COUNT( * ) 
FROM  `ppt_userlib_sns` 
WHERE uid1 =17 or uid2=3460
GROUP BY uid2
ORDER BY COUNT( * ) DESC 
LIMIT 0 , 10
) AS a
INNER JOIN ppt_userlib l ON a.uid2 = l.id
LIMIT 0 , 30



select sh,sum(pe) persons from (
SELECT SUBSTRING_INDEX(location,' ',1) as sh,pe
FROM (

SELECT location, COUNT( * ) AS pe
FROM  `ppt_user` 
GROUP BY location
) AS a
) as b
group by sh
order by persons desc